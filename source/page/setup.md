# PrairieLearn Setup for CEE202 QuickStart

## Step 1: Figure out the HWs

Consider the type of questions that we are going to deal with, such as how many multiple choice.

Have the template ready for each type of the questions.

## Step 2: Create UUID

UUID can be generated by this <a href="https://www.uuidgenerator.net/">link</a>. Each UUID will be assigned to a question only.

I strongly suggest creating a spreadsheet to keep track of the questions and corresponding UUID.

## Step 3: Modify the questions

| Folder/File Name    | Usage                                                        |
| ------------------- | ------------------------------------------------------------ |
| info.json           | The information of the question such as title, topic, tags, and uuid. |
| question.html       | The main body of the question                                |
| server.py           | The answer of the question                                   |
| clientFilesQuestion | Save the figures for the question                            |

## Step 4: Run the PrairieLearn on PC

Follow the <a href="https://prairielearn.readthedocs.io/en/latest/installing/">PrairieLearn Instruction</a> to install and run PrairieLearn.

Specifically, if you are a windows user, assume your repo path is `/c/Users/Zhonghua Zheng/Documents/GitHub/pl-cee202`

Type the following code to run PrairieLearn

```bash
docker run -it --rm -p 3000:3000 -v "/c/Users/Zhonghua Zheng/Documents/GitHub/pl-cee202:/course" prairielearn/prairielearn
```

## Step 5: Check your answer

Type `http://localhost:3000/pl` in your browser.

Click `Load from disk`

Click the desired course under `Course instance`, then click `Questions` at the top

Then you can manually check all your answers.

## Step 6: Useful templates

### Create a question panel

```html
<pl-question-panel>
	<p>What proportions of individuals can be expected to respond to a certain mail-order solicitation if the proportion X has the density function:</p>
	<pl-figure file-name="prob_1.png"></pl-figure>
</pl-question-panel>
```

### Create the number input question

```html
<div class="card my-2">
  <div class="card-body">
    <pl-question-panel>
      <p>Within this question, you can observe the default behavior of the <a href="http://prairielearn.readthedocs.io/en/latest/elements/#pl-integer-input-element"><code>pl-integer-input</code></a> element. In particular, the default input field has help text of "integer" as a placeholder as well as a question button.</p>
      <p> Solve for the value of $c$ given $c = {{params.a}} + {{params.b}}$ </p>
    </pl-question-panel>
    <pl-number-input answers-name="c_1" comparison="decdig" digits="2" weight="2"></pl-number-input>
  </div>
</div>
```

### Create a multiple choice

```html
<div class="card my-2">
    <div class="card-header">
        Part 1
    </div>

    <div class="card-body">

        <pl-question-panel>
            <p>Here, you can observe the default behavior of the <code>pl-multiple-choice</code> element.
               In particular, all options are presented in a randomized form. Only one option may be selected from the list may be selected. </p>
            <p> What is the color of the sky? </p>
        </pl-question-panel>

        <pl-multiple-choice answers-name="sky-color1" weight="3">
          <pl-answer correct="true">Blue</pl-answer>
          <pl-answer>Pink</pl-answer>
          <pl-answer>Purple</pl-answer>
          <pl-answer>Orange</pl-answer>
          <pl-answer>Yellow</pl-answer>
          <pl-answer>Brown</pl-answer>
          <pl-answer>Red</pl-answer>
        </pl-multiple-choice>

    </div>
</div>
```

### Apply the number from `server.py` to `question.html`
Within `server.py`:

```python
import random
import math
import scipy.stats
import numpy as np

def generate(data):

  # random option1
  random.randint(0,9)*1/100
  # random option2
  random.randrange(300,330,5)


  z_number = np.around(1.4+random.randint(0,9)*1/100,decimals=2)
  cdf = 1-scipy.stats.norm(0,1).cdf(z_number)

  a = random.randint(4,8)
  data["params"]["a"] = a
  p = random.randint(6,9)/10
  data["params"]["p"] = p

  Answer1a = 1-1/a
  Answer1b = 1/a
  Answer2 = p/(Answer1a*p + Answer1b)

  data["correct_answers"]["Answer1a"] = Answer1a
  data["correct_answers"]["Answer1b"] = Answer1b
  data["correct_answers"]["Answer2"] = Answer2
```

Within `question.html`:

```html
${{params.a}}$

<pl-number-input answers-name="Answer2" comparison="decdig" digits="3" weight="2"></pl-number-input>
```

## Reference

[1] <a href="https://prairielearn.readthedocs.io/en/latest/">PrairieLearn Documentation</a>

[2] <a href="https://github.com/PrairieLearn">PrairieLearn Github</a>

[3] <a href="https://www.uuidgenerator.net/">UUID generator</a>